<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title> 키다리여행사</title>
  <style>
    body {
      font-family: 'sans-serif';
      font-style: normal;
      font-size: 15px;
      margin: 0;
      text-align: center;
    }
    header {
      font-size: 2.0em;
      color: #06e4b4;
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.9);
      padding: 30%;
      border-radius: 10px;
      white-space: nowrap;
    }
    .top-right {
      position: absolute;
      top: 30px;
      right: 10px;
      z-index: 1000;
      display: flex;
      margin: 0px 30px;
      gap: 5px;
      flex-direction: row;
      align-items: center;
      transform: scale(0.8);
      transform-origin: bottom left;
    }
    .top-right input {
      height: 25px;
      width: 100px;
      padding: 10px;
      box-sizing: border-box;
    }
    .top-right button {
      height: 25px;
      padding: 10 15px;
      background: #27ae60;
      color: #fff;
      border: 0;
      border-radius: 5px;
      font-size: 0.95em;
    }
    .join:hover {
      color: #999933;
    }
    .join {
      color: #373636;
      font-size: 1.0em;
    }
    .color {
      background: #fff;
      color: #373636;
      padding: 10px;
      font-size: 1.0em;
      position: relative;
    }
    .menu-item {
      margin: 0 20px;
      cursor: pointer;
      position: relative;
      display: inline-block;
    }
    .menu-item:hover {
      color: #27ae60;
    }
    .submenu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: #ffffff;
      border: 1px solid #ccc;
      min-width: 120px;
      z-index: 1000;
    }
    .submenu a {
      display: block;
      padding: 8px 10px;
      text-decoration: none;
      color: #333;
    }
    .submenu a:hover {
      background-color: #eee;
    }
    .menu-item:hover .submenu {
      display: block;
    }
    .error {
      color: red;
      font-size: .9em;
    }
    .slider-wrapper {
      position: relative;
      height: 70vh;
      overflow: hidden;
      background: #000;
    }
    .slider {
      display: flex;
      height: 100%;
      transition: transform 1s ease;
    }
    .slider img {
      flex-shrink: 0;
      width: 100vw;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }
    .caption-wrapper {
      position: absolute;
      top: 15%;
      left: 5%;
      display: flex;
      flex-direction: column;
      gap: 10px;
      text-align: left;
      opacity: 0;
      transform: translateX(100%);
      transition: none;
      pointer-events: auto;
      z-index: 10;
    }
    .caption {
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
      padding: 30px;
      border-radius: 10px;
      white-space: nowrap;
    }
    #captionLink {
      font-size: 3em;
    }
    #captionLink a {
      color: #06e4b4;
      text-decoration: none;
    }
    #captionText {
      font-size: 1.5em;
    }
    .caption-wrapper.show {
      opacity: 1 !important;
      transform: translateX(0) !important;
      transition: opacity 1s ease, transform 1s ease;
    }
    .nav-buttons {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
    }
    .nav-buttons button {
      margin: 0 10px;
      padding: 10px 15px;
      font-size: 1em;
      background: #27ae60;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .page-indicator {
      display: inline-block;
      color: #fff;
      margin-left: 20px;
      font-size: 1.1em;
    }
  </style>
</head>
<body>

<header style="text-align: left; padding: 0 25px;"><img src="logo.png" width="120px"> 트래블키다리</header>

<div class="top-right" id="loginArea">
  <input type="text" id="loginId" placeholder="아이디">
  <input type="password" id="loginPw" placeholder="비밀번호">
  <button onclick="login()">로그인</button>
  <div id="loginError" class="error"></div>
  <a href="signup.html"><button>회원가입</button></a>
</div>

<!-- 로그인 후 환영 및 유지시간 표시 -->
<div class="top-right" id="welcomeMessage" style="display: none; flex-direction: column; font-weight: bold; color: green; top: 34px; right:100px;">
  <span id="welcomeText"></span>
  <span id="remainTimeText" style="font-size: 0.9em; color: #333;"></span>
</div>


<div class="top-right" id="logoutArea" style="display: none;">
  <button onclick="logout()">로그아웃</button>
  <button onclick="location.href='detail.html?uid=' + getCookie('currentUser')">상세보기</button>
</div>


<script>
  function getCookie(name) {
    const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
    if (match) return match[2];
    return null;
  }

  // 남은 로그인 유지시간 표시 함수
  function startRemainTimer() {
    const remainText = document.getElementById('remainTimeText');
    const expireTime = parseInt(localStorage.getItem('expireTime') || 0);

    function update() {
      const now = Date.now();
      const remain = Math.max(0, expireTime - now);
      const mins = Math.floor(remain / 60000);
      const secs = Math.floor((remain % 60000) / 1000);
      remainText.textContent = `로그인 유지시간은 ${mins}분 ${secs}초 남았습니다.`;

      if (remain <= 0) {
        clearInterval(timer);
        logout();
      }
    }

    update();
    const timer = setInterval(update, 1000);
  }
</script>

<div class="top-right" id="welcomeMessage" style="display: none; font-weight: bold; color: green; top: 34px; right: 100px;"></div>

<div class="top-right" id="logoutArea" style="display: none;">
  <button onclick="logout()">로그아웃</button>
</div>

<div class="color" style="text-align: left;">
 <div class="menu-item">유럽
    <div class="submenu">
      <a href="https://www.france.fr/" target="_blank">프랑스</a>
      <a href="https://www.germany.travel/kr/home.html" target="_blank">독일</a>
      <a href="https://www.italia.it" target="_blank">이탈리아</a>
    </div>
  </div>
  <div class="menu-item">아시아
    <div class="submenu">
      <a href="https://www.japan.travel/ko/kr/" target="_blank">일본</a>
      <a href="https://www.tourismthailand.org/home" target="_blank">태국</a>
      <a href="https://vietnam.travel/" target="_blank">베트남</a>
    </div>
  </div>
  <div class="menu-item">아프리카
    <div class="submenu">
      <a href="https://www.egypt.travel/" target="_blank">이집트</a>
      <a href="https://www.visitmorocco.com/en" target="_blank">모로코</a>
    </div>
  </div>
  <div class="menu-item">오세아니아
    <div class="submenu">
      <a href="https://www.australia.com/en" target="_blank">호주</a>
      <a href="https://www.newzealand.com/int/" target="_blank">뉴질랜드</a>
    </div>
  </div>
  <div class="menu-item">북미
    <div class="submenu">
      <a href="https://www.visittheusa.com/" target="_blank">미국</a>
      <a href="https://www.visittheusa.com/" target="_blank">미국</a>
      <a href="https://travel.destinationcanada.com/" target="_blank">캐나다</a>
    </div>
  </div>
  <div class="menu-item">남미
    <div class="submenu">
      <a href="https://www.visitbrasil.com/" target="_blank">브라질</a>
      <a href="https://www.peru.travel/en" target="_blank">페루</a>
    </div>
  </div>
</div>

<div class="slider-wrapper">
  <div class="slider" id="slider"></div>
  <div class="caption-wrapper" id="captionWrapper">
    <div class="caption" id="captionLink"></div>
    <div class="caption" id="captionText"></div>
  </div>
  <div class="nav-buttons">
    <button onclick="handleManualSlide('prev')">이전</button>
    <button onclick="handleManualSlide('next')">다음</button>
    <span class="page-indicator" id="pageIndicator">1 / 1</span>
  </div>
</div>

<script>
  (function () {
    const users = JSON.parse(localStorage.getItem('users') || '{}');
    if (!users.admin) {
      users.admin = {
        userid: 'admin',
        password: 'passwd',
        name: '관리자',
        phone: '010-1004-1004',
        email: 'admin@TavelKidari.com',
        address: 'KD Academy',
        gender: 'Man'
      };
      localStorage.setItem('users', JSON.stringify(users));
    }
    const currentUser = getCookie('currentUser');
    if (currentUser) {
      document.getElementById('loginArea').style.display = 'none';
      document.getElementById('welcomeMessage').textContent = `${currentUser} 님이 로그인 되었습니다.`;
      document.getElementById('welcomeMessage').style.display = 'flex';
      document.getElementById('logoutArea').style.display = 'flex';
    }
  })();

//   function login() {
//     const id = document.getElementById('loginId').value.trim();
//     const pw = document.getElementById('loginPw').value.trim();
//     const users = JSON.parse(localStorage.getItem('users') || '{}');
//     const user = users[id];
//     const errorBox = document.getElementById('loginError');
//     errorBox.textContent = '';

//     if (!id || !pw) {
//       // errorBox.textContent = '아이디와 비밀번호를 모두 입력하세요.';
//       window.alert('아이디와 비밀번호를 모두 입력하세요.');
//     } else if (user && user.password === pw) {
//       // document.cookie = `currentUser=${id}; path=/`;
//       const expire = new Date();
//       // expire.setTime(expire.getTime() + (24 * 60 * 60 * 1000)); // 로그인 유지 기간 1일 
//       expire.setTime(expire.getTime() + (1 * 1 * 60 * 1000)); // 로그인 유지 기간 1분
//       document.cookie = `currentUser=${id}; path=/; expires=${expire.toUTCString()}`;

//       document.getElementById('loginArea').style.display = 'none';
//       document.getElementById('welcomeMessage').textContent = `${id} 님이 로그인 되었습니다.`;
//       document.getElementById('welcomeMessage').style.display = 'flex';
//       document.getElementById('logoutArea').style.display = 'flex';
//     } else {
//       window.alert('아이디 또는 비밀번호가 올바르지 않습니다.');
//     }
//   }

//   function logout() {
//     document.cookie = 'currentUser=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC';
//     location.reload();
//   }

//   function getCookie(name) {
//     const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
//     if (match) return match[2];
//     return null;
//   }
</script>


  <!-- // 로그인 함수 -->
  <script>
  function login() {
    const id = document.getElementById('loginId').value.trim();
    const pw = document.getElementById('loginPw').value.trim();
    const users = JSON.parse(localStorage.getItem('users') || '{}');
    const user = users[id];
    const errorBox = document.getElementById('loginError');
    errorBox.textContent = '';

    if (!id || !pw) {
      alert('아이디와 비밀번호를 모두 입력하세요.');
    } else if (user && user.password === pw) {
      const expire = new Date();
      expire.setTime(expire.getTime() + (1 * 1 * 30 * 1000)); // 로그인 유지 기간 30초
      document.cookie = `currentUser=${id}; path=/; expires=${expire.toUTCString()}`;
      localStorage.setItem('expireTime', expire.getTime());

      document.getElementById('loginArea').style.display = 'none';
      document.getElementById('welcomeMessage').style.display = 'flex';
      document.getElementById('logoutArea').style.display = 'flex';
      document.getElementById('welcomeText').textContent = `${id} 님이 로그인 되었습니다.`;

      startRemainTimer();
    } else {
      alert('아이디 또는 비밀번호가 올바르지 않습니다.');
    }
  }

  // 로그아웃 함수
  function logout() {
    document.cookie = 'currentUser=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC';
    localStorage.removeItem('expireTime');
    location.reload();
  }

  // 페이지 로딩 시 로그인 상태 확인
  (function () {
    const users = JSON.parse(localStorage.getItem('users') || '{}');
    if (!users.admin) {
      users.admin = {
        userid: 'admin',
        password: 'passwd',
        name: '관리자',
        phone: '010-1004-1004',
        email: 'admin@TavelKidari.com',
        address: 'KD Academy',
        gender: 'Man'
      };
      localStorage.setItem('users', JSON.stringify(users));
    }

    const currentUser = getCookie('currentUser');
    if (currentUser) {
      document.getElementById('loginArea').style.display = 'none';
      document.getElementById('welcomeMessage').style.display = 'flex';
      document.getElementById('logoutArea').style.display = 'flex';
      document.getElementById('welcomeText').textContent = `${currentUser} 님이 로그인 되었습니다.`;

      startRemainTimer();
    }
  })();
</script>


<script>
  const images = [

    {
      src: 'https://picsum.photos/id/1056/1600/900',
      linkCaption: '<a href="https://www.france.fr" target="_blank" rel="noopener noreferrer">이번 여행지는 프랑스입니다!</a>',
      textCaption: '지금 예약해보세요.'
    },
    {
      src: 'https://picsum.photos/id/1018/1600/900',
      linkCaption: '<a href="https://www.germany.travel" target="_blank" rel="noopener noreferrer">자연과 도시의 조화,<br>독일을 만나보세요.</a>',
      textCaption: '환상적인 여행이 기다리고 있습니다.'
    },
    {
      src: 'https://picsum.photos/id/1043/1600/900',
      linkCaption: '<a href="https://www.italia.it" target="_blank" rel="noopener noreferrer">예술과 유산의 나라,<br>이탈리아로 떠나보세요.</a>',
      textCaption: '역사와 문화가 살아 숨쉬는 곳입니다.'
    }
  ];

  const slider = document.getElementById('slider');
  const captionWrapper = document.getElementById('captionWrapper');
  const captionLink = document.getElementById('captionLink');
  const captionText = document.getElementById('captionText');
  const pageIndicator = document.getElementById('pageIndicator');
  let currentIndex = 0;
  let isTransitioning = false;
  let autoSlideTimer;

  function initializeSlider() {
    images.forEach((img, i) => {
      const imageElement = document.createElement('img');
      imageElement.src = img.src;
      imageElement.alt = `slide${i + 1}`;
      slider.appendChild(imageElement);
    });
    const clone = document.createElement('img');
    clone.src = images[0].src;
    clone.alt = `slide1-clone`;
    slider.appendChild(clone);
  }

  function updatePageIndicator() {
    pageIndicator.textContent = `${(currentIndex % images.length) + 1} / ${images.length}`;
  }

  function updateCaptions() {
    captionLink.innerHTML = images[currentIndex % images.length].linkCaption;
    captionText.innerHTML = images[currentIndex % images.length].textCaption;
    captionWrapper.classList.add('show');
  }

  function resetCaptions() {
    captionWrapper.classList.remove('show');
    captionWrapper.style.transition = 'none';
    captionWrapper.style.opacity = '0';
    captionWrapper.style.transform = 'translateX(100%)';
  }

  function showSlide(index, withTransition = true) {
    resetCaptions();
    slider.style.transition = withTransition ? 'transform 1s ease' : 'none';
    slider.style.transform = `translateX(-${index * 100}vw)`;
    updatePageIndicator();
    setTimeout(() => {
      captionWrapper.style.transition = 'opacity 1s ease, transform 1s ease';
      updateCaptions();
    }, 1000);
  }

  function nextSlide() {
    if (isTransitioning) return;
    isTransitioning = true;
    currentIndex++;
    showSlide(currentIndex);
    if (currentIndex === images.length) {
      setTimeout(() => {
        slider.style.transition = 'none';
        currentIndex = 0;
        showSlide(currentIndex, false);
        isTransitioning = false;
      }, 1000);
    } else {
      setTimeout(() => { isTransitioning = false; }, 1000);
    }
  }

  function prevSlide() {
    if (isTransitioning) return;
    isTransitioning = true;
    if (currentIndex === 0) {
      currentIndex = images.length - 1;
      slider.style.transition = 'none';
      slider.style.transform = `translateX(-${images.length * 100}vw)`;
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          slider.style.transition = 'transform 1s ease';
          showSlide(currentIndex);
        });
      });
      setTimeout(() => { isTransitioning = false; }, 1000);
    } else {
      currentIndex--;
      showSlide(currentIndex);
      setTimeout(() => { isTransitioning = false; }, 1000);
    }
  }

  function handleManualSlide(direction) {
    if (isTransitioning) return;
    clearTimeout(autoSlideTimer);
    direction === 'next' ? nextSlide() : prevSlide();
    autoSlideTimer = setTimeout(autoSlide, 5000);
  }

  function autoSlide() {
    nextSlide();
    autoSlideTimer = setTimeout(autoSlide, 5000);
  }

  initializeSlider();
  showSlide(currentIndex);
  autoSlideTimer = setTimeout(autoSlide, 5000);
</script>

</body>
</html>



<!-- 소스 설명서


<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>키다리여행사</title>
  <style>
    /* 기본 텍스트 설정 */
    body {
      font-family: 'sans-serif';
      font-style: normal;
      font-size: 15px;
      margin: 0;
      text-align: center;
    }

    /* 상단 로고 영역 */
    header {
      font-size: 1.8em;
      color: #9cec09;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
      padding: 30%;
      border-radius: 10px;
      white-space: nowrap;
    }

    /* 로그인/로그아웃 영역 스타일 */
    .top-right {
      position: absolute;
      top: 30px;
      right: 10px;
      z-index: 1000;
      display: flex;
      margin: 0px 30px;
      gap: 5px;
      flex-direction: row;
      align-items: center;
      transform: scale(0.8);
      transform-origin: bottom left;
    }

    /* 로그인 입력 필드 크기 */
    .top-right input {
      height: 25px;
      width: 100px;
      padding: 10px;
      box-sizing: border-box;
    }

    /* 버튼 스타일 */
    .top-right button {
      height: 25px;
      padding: 10 15px;
      background: #27ae60;
      color: #fff;
      border: 0;
      border-radius: 5px;
      font-size: 0.95em;
    }

    /* 메뉴 hover 효과 */
    .join:hover {
      color: #999933;
    }

    .join {
      color: #373636;
      font-size: 1.0em;
    }

    /* 전체 메뉴 배경 */
    .color {
      background: #fff;
      color: #373636;
      padding: 10px;
      font-size: 1.0em;
      position: relative;
    }

    /* 드롭다운 메뉴 */
    .menu-item {
      margin: 0 20px;
      cursor: pointer;
      position: relative;
      display: inline-block;
    }

    .menu-item:hover {
      color: #999933;
    }

    .submenu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: #ffffff;
      border: 1px solid #ccc;
      min-width: 120px;
      z-index: 1000;
    }

    .submenu a {
      display: block;
      padding: 8px 10px;
      text-decoration: none;
      color: #333;
    }

    .submenu a:hover {
      background-color: #eee;
    }

    .menu-item:hover .submenu {
      display: block;
    }

    /* 로그인 실패 메시지 */
    .error {
      color: red;
      font-size: .9em;
    }

    /* 슬라이더 전체 영역 */
    .slider-wrapper {
      position: relative;
      height: 70vh;
      overflow: hidden;
      background: #000;
    }

    .slider {
      display: flex;
      height: 100%;
      transition: transform 1s ease;
    }

    .slider img {
      flex-shrink: 0;
      width: 100vw;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    /* 캡션 텍스트 위치 */
    .caption-wrapper {
      position: absolute;
      top: 15%;
      left: 5%;
      display: flex;
      flex-direction: column;
      gap: 10px;
      text-align: left;
      opacity: 0;
      transform: translateX(100%);
      transition: none;
      pointer-events: auto;
      z-index: 10;
    }

    .caption {
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
      padding: 30px;
      border-radius: 10px;
      white-space: nowrap;
    }

    #captionLink {
      font-size: 3em;
    }

    #captionLink a {
      color: #06e4b4;
      text-decoration: none;
    }

    #captionText {
      font-size: 1.5em;
    }

    /* 캡션 나타날 때 효과 */
    .caption-wrapper.show {
      opacity: 1 !important;
      transform: translateX(0) !important;
      transition: opacity 1s ease, transform 1s ease;
    }

    /* 이전/다음 버튼 영역 */
    .nav-buttons {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
    }

    .nav-buttons button {
      margin: 0 10px;
      padding: 10px 15px;
      font-size: 1em;
      background: #27ae60;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .page-indicator {
      display: inline-block;
      color: #fff;
      margin-left: 20px;
      font-size: 1.1em;
    }
  </style>
</head>
<body>

-- 로그인 후 영역에 상세보기 버튼 추가 -
<div class="top-right" id="logoutArea" style="display: none;">
  -- 로그아웃 시 쿠키 삭제 --
  <button onclick="logout()">로그아웃</button>
  - 로그인된 사용자 기준 상세보기 페이지로 이동 -
  <button onclick="location.href='detail.html?uid=' + getCookie('currentUser')">상세보기</button>
</div>

- getCookie 함수는 쿠키에서 사용자 아이디를 가져옵니다 -
<script>
  function getCookie(name) {
    const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
    if (match) return match[2];
    return null;
  }
</script>

</body>
</html>
-->
